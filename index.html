<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="styles.css" />
		<title>TinyLabs OS</title>
	</head>
	<body>
		<div id="os-wrapper" style="display:none;">
			<div id="desktop-wrapper">
				<div class="app" id="mail" draggable="true">
					<img
						src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Email.svg"
						class="non-draggable non-selectable"
					/>
					<h1 class="non-selectable">Mail</h1>
				</div>
				<div class="app" id="telescope" draggable="true">
					<img
						src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Organism.svg"
						class="non-draggable non-selectable"
					/>
					<h1 class="non-selectable">Microscope</h1>
				</div>
				<div class="app" id="builder" draggable="true">
					<img
						src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Builder.svg"
						class="non-draggable non-selectable"
					/>
					<h1 class="non-selectable">DNA</h1>
				</div>
				<!--
        <div class="app">
					<img src="res/Icon_Browser.svg" />
					<h1>Web Browser</h1>
				</div>
        -->
			</div>
		</div>
		<div id="opened-mail">
			<div id="mail-header">
				<div class="back-btn-wrapper" id="back1">
					<img
						src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Back.svg"
					/>
					<div>go back</div>
				</div>
			</div>
			<div id="mail-info-wrapper">
				<h1 id="om-topic">Topic</h1>
				<h2 id="om-sender">Sender</h2>
				<p id="om-timestamp">13:37</p>
				<hr />
				<div id="om-content">Test test test test</div>
			</div>
		</div>
		<div id="mail-wrapper">
			<div id="mail-menu">
				<div class="back-btn-wrapper" id="back2">
					<img
						src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Back.svg"
					/>
					<div>go back</div>
				</div>
				<div class="category1">
					<img
						src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Inbox.svg"
					/>
					<p id="mm-inbox">Inbox</p>
				</div>
				<div class="category1">
					<img
						src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Favorites.svg"
					/>
					<p id="mm-favorites">Favorites</p>
				</div>
				<div class="category1">
					<img
						src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_StarWhite.svg"
					/>
					<p id="mm-important">Important</p>
				</div>
			</div>
			<div id="mail-inbox">
				<div id="category-wrapper">
					<div class="category2" id="category-primary">
						<img
							src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Primary.svg"
						/>
						<div class="c2-text-wrapper">
							<p>Primary</p>
							<p class="summary" id="primary-summary">No new mail...</p>
						</div>
					</div>
					<div class="category2" id="category-campaigns">
						<img
							src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Campaigns.svg"
						/>
						<div class="c2-text-wrapper">
							<p>Campaigns</p>
							<p class="summary" id="campaigns-summary">No new mail...</p>
						</div>
					</div>
					<div class="category2" id="category-social">
						<img
							src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Social.svg"
						/>
						<div class="c2-text-wrapper">
							<p>Social</p>
							<p class="summary" id="social-summary">No new mail...</p>
						</div>
					</div>
				</div>
				<!--
				<div class="mail-preview">
					<div class="mp-icons-wrapper">
            <img src="https://picsum.photos/16/16" />
            <img src="https://picsum.photos/16/16" />
          </div>
					<div class="sender">Sender</div>
					<div class="mp-text-wrapper">
            <div class="topic"><p>Topic&nbsp;</p></div>
            <div class="content"><p>- Content</p></div>
          </div>
					<div class="timestamp">XY:ZA</div>
				</div>
        -->
			</div>
		</div>
		<div id="telescope-wrapper">
			<div class="back-btn-wrapper-alt" id="back3">
				<img
					src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Back.svg"
				/>
				<div>go back</div>
			</div>
			<canvas id="canvas"></canvas>
		</div>
		<div id="login-wrapper">
			<form id="login-form">
				<img
				src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/logo.png"
				/>
				<h2>TinyLabs Login</h2>
				<input type="text" id="username" name="username" placeholder="Enter your username" required>
				<input type="password" id="password" name="password" placeholder="Enter your password" required>
				<button type="button" id="login-btn">Login</button>
			</form>
			<div class="post-it">
				<h1>Login Details</h1>
				<h2>Username: username</h2>
				<h2>Password: password</h2>
			</div>
		</div>
		<div id="gameover-wrapper" style="display: none;">
			<div>Game Over</div>
			<div id="restart">Click here to start over</div>
			<!-- TODO: Make game over screen pretty -->
		</div>
		<div id="money-wrapper">
			<img src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Cursor.svg" />
			<div id="money-text">0</div>
		</div>
		<div id="builder-wrapper">
			<div class="back-btn-wrapper-alt" id="back4">
				<img
					src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Back.svg"
				/>
				<div>go back</div>
			</div>
			<!--<div class="scratches"></div>-->
			<canvas id="canvas2"></canvas>
		</div>
		<div id="assignment-container"></div>
		<div id="overlay" class="overlay">
			<div class="overlay-header">
				<img
					src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Icon_Primary.svg"
					class="overlay-icon"
				/>
				<h2 class="overlay-title">Mail Notification</h2>
				<span class="close-btn" onclick="closeOverlay()">✖</span>
			</div>
			<div class="overlay-content">
				<h2 id="overlay-sender">name nameson (example@email.com)</h2>
				<p id="overlay-subject">This is the subject</p>
			</div>
		</div>
		<div id="builder-overlay"></div>
		<div
			id="nodeInfoContainer"
			style="
				display: none;
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				z-index: 1000;
				background-color: white;
				border-radius: 5px;
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
				width: 400px;
			"
		>
			<div class="overlay-header">
				<img
					src="https://raw.githubusercontent.com/tavro/LD56/refs/heads/pages/Res/Cursor.svg"
					class="overlay-icon"
				/>
				<h2 class="overlay-title">Node Info</h2>
				<span class="close-btn" id="closeNodeInfoButton">✖</span>
			</div>
			<div class="overlay-content">
				<p>
					<strong>Level:</strong>
					<input type="number" id="nodeLevelInput" min="1" max="3" />
				</p>
				<p>
					<strong>Type:</strong>
					<select id="bodyPartDropdown">
						<option value="" disabled selected>Select body part</option>
						<option value="fins">Fins</option>
						<option value="arms">Arms</option>
					</select>
				</p>
				<p>
					<strong>Color:</strong>
					<input type="color" id="colorPicker" />
				</p>

				<p id="errorMessage" style="color: red; display: none;"></p>
				<button id="submitNodeButton">Submit</button>
			</div>
		</div>
		<div id="plus-button-container" class="plus-sign-container">
			<div id="plus-button" class="plus-sign">+</div>
			<div id="add-node-label" class="add-node-label">Add Node</div>
		</div>
		<script src="utils.js"></script>
		<script src="sound.js"></script>
		<script src="stats.js"></script>
		<script src="mail.js"></script>
		<script src="script.js"></script>
		<script src="game_utils.js"></script>
		<script src="player.js"></script>
		<script src="game.js"></script>
		<script src="builder.js"></script>
		<script>
			window.addEventListener('beforeunload', function (event) {
				const message = "Are you sure you want to leave? This will reset the state of the game!";
				event.returnValue = message;
				return message;
			});
		</script>
	</body>
</html>
